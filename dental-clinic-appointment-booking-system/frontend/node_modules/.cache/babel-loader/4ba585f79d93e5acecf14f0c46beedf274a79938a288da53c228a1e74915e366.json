{"ast":null,"code":"import React,{useContext}from'react';import{Navigate,Outlet}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{allowedRoles}=_ref;const{auth}=useContext(AuthContext);if(!auth){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(allowedRoles&&!allowedRoles.includes(auth.role)){// Redirect to correct dashboard if role mismatch\nreturn auth.role==='DOCTOR'?/*#__PURE__*/_jsx(Navigate,{to:\"/doctor/dashboard\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/patient/dashboard\",replace:true});}return/*#__PURE__*/_jsx(Outlet,{});};export default ProtectedRoute;","map":{"version":3,"names":["React","useContext","Navigate","Outlet","AuthContext","jsx","_jsx","ProtectedRoute","_ref","allowedRoles","auth","to","replace","includes","role"],"sources":["/Users/I529002/sureSmile1/dental-clinic-appointment-booking-system/frontend/src/components/ProtectedRoute.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Navigate, Outlet } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\n\nconst ProtectedRoute = ({ allowedRoles }) => {\n  const { auth } = useContext(AuthContext);\n\n  if (!auth) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  if (allowedRoles && !allowedRoles.includes(auth.role)) {\n    // Redirect to correct dashboard if role mismatch\n    return auth.role === 'DOCTOR' ? (\n      <Navigate to=\"/doctor/dashboard\" replace />\n    ) : (\n      <Navigate to=\"/patient/dashboard\" replace />\n    );\n  }\n\n  return <Outlet />;\n};\n\nexport default ProtectedRoute;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,QAAQ,CAAEC,MAAM,KAAQ,kBAAkB,CACnD,OAASC,WAAW,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAsB,IAArB,CAAEC,YAAa,CAAC,CAAAD,IAAA,CACtC,KAAM,CAAEE,IAAK,CAAC,CAAGT,UAAU,CAACG,WAAW,CAAC,CAExC,GAAI,CAACM,IAAI,CAAE,CACT,mBAAOJ,IAAA,CAACJ,QAAQ,EAACS,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA,GAAIH,YAAY,EAAI,CAACA,YAAY,CAACI,QAAQ,CAACH,IAAI,CAACI,IAAI,CAAC,CAAE,CACrD;AACA,MAAO,CAAAJ,IAAI,CAACI,IAAI,GAAK,QAAQ,cAC3BR,IAAA,CAACJ,QAAQ,EAACS,EAAE,CAAC,mBAAmB,CAACC,OAAO,MAAE,CAAC,cAE3CN,IAAA,CAACJ,QAAQ,EAACS,EAAE,CAAC,oBAAoB,CAACC,OAAO,MAAE,CAC5C,CACH,CAEA,mBAAON,IAAA,CAACH,MAAM,GAAE,CAAC,CACnB,CAAC,CAED,cAAe,CAAAI,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}